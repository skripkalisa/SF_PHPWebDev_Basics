# Добавление файлов и gitignore

## Создание и добавление файлов

Создадим в нашем каталоге пустой файл.

    > touch README.md

Теперь, если мы выполним команду **git status**, то увидим, что в нашем каталоге появился один неотслеживаемый файл: *README.md*.

    > git status
    On branch master

    Initial commit

    Untracked files:
      (use "git add <file>..." to include in what will be committed)

            README.md

    nothing added to commit but untracked files present (use "git add" to track)

  
Добавим, созданный файл в **stage**. ***Stage*** (или *cache*) – это хранилище для файлов с изменениями, информация о которых попадет в единый коммит. **Stage** является элементом архитектуры трех деревьев, на базе которой построен **git**, более подробно смотрите здесь. Для добавления файла *README.md* в **stage** необходимо воспользоваться командой **git add**.

    > git add README.md

Проверим статус каталога.

    > git status
    On branch master

    Initial commit

    Changes to be committed:
      (use "git rm --cached <file>..." to unstage)

            new file:   README.md

Как видно, в stage был добавлен один файл с именем *README.md* и теперь представленный набор изменений готов к отправке в репозиторий – т.е. к **коммиту**.

## О файле .gitignore

**.gitignore** нужен для скрытия файлов и папок от системы контроля версий ***Git***. Обычно скрывают конфигурационные файлы (особенно с паролями), временные файли и папки. **gitignore** использует **glob** формат для выборки файлов.

Основной синтаксис:

    Каждая строка - отдельный шаблон
    Пустые строки игнорируются
    Строки начинающиеся с # являются комментариями
    Символ слеша "/" в начале строки указывает на текущую папку (где лежит .gitignore)
    Звёздочка(*) заменяет любое количество символов
    Две звёздочки(**) используются для указания всех подпапок.
    Восклицательный знак(!) в начале строки инвертирует шаблон (используется для исключений)
    Для экранирования спецсимволов используется обратный слэш "\". Для игнорирования всей директории, правило должно оканчиваться на слэш(/), в противном случае правило считается именем файла.

В репозитарии **gitignore** от ***github*** собраны примеры **gitignore** файлов для всех типовых проектов. 

Пример **.gitignore** файла

        # Игнорировать файл foo.txt.
        foo.txt
        # Игнорировать html файлы
        *.html
        # Но конкретно foo.html не игнорировать
        !foo.html
        # Игнорировать rar файлы в корне проекта
        # Допустим файл /temp/main.rar не будет проигнорирован т.к. он не в корне
        /*.rar
        # Игнорировать css файлы из папки bar не включая подпапки
        # Допустим файл /bar/temp/main.css не будет проигнорирован т.к. он в подпапке temp
        /bar/*.css
        # Игнорировать js файлы из папки bar и подпапок, если таковые будут
        /bar/**.*.js

## Как игнорировать файлы, которые уже отслеживаются?

Если вы добавили файл или папку в **.gitignore**, после того как они попали в репозиторий, то их необходимо удалить из репозитория командой:

    git rm --cached <file>

Например убрать папку *storage/framework/cache/*. Обратите внимание: вначале отсутствует слеш.

    git rm -r --cached "storage/framework/cache/"